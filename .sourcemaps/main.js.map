{"version":3,"sources":["../../src/providers/auth-provider/auth-provider.ts","../../src/pages/tabs/tabs.ts","../../src/providers/chats-provider/chats-provider.ts","../../src/pages/chat-view/chat-view.ts","../../node_modules/@angular/core/src/linker lazy","../../src/pages/login/login.ts","../../src/pages/chats/chats.ts","../../src/pages/account/account.ts","../../src/pages/users/users.ts","../../src/providers/utils.ts","../../src/app/main.ts","../../src/providers/user-provider/user-provider.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/validators/email.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { AngularFire } from 'angularfire2';\nimport { Storage } from '@ionic/storage';\n\n@Injectable()\nexport class AuthProvider {\n  constructor(public af:AngularFire, public local:Storage) {}\n  \n  signin(credentails) {   \n    return this.af.auth.login(credentails);\n  }\n  \n  createAccount(credentails) {\n    return this.af.auth.createUser(credentails);\n  };\n  \n  logout() {\n     this.af.auth.logout();\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-provider/auth-provider.ts","import { Component } from '@angular/core';\nimport { ChatsPage } from '../chats/chats'; \nimport { AccountPage } from '../account/account';\nimport { UsersPage } from '../users/users';\n\n@Component({\n\tselector: 'tabs-page',\n\ttemplateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\tchats = ChatsPage;\n\tusers = UsersPage;\n    profile = AccountPage;\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Injectable } from '@angular/core';\nimport { AngularFire } from 'angularfire2';\nimport { UserProvider } from '../user-provider/user-provider';\n\n@Injectable()\nexport class ChatsProvider {\n  constructor(public af: AngularFire, public up: UserProvider) {}\n  // get list of Chats of a Logged In User\n  getChats() {\n     return this.up.getUid().then(uid => {\n        let chats = this.af.database.list(`/users/${uid}/chats`);\n        return chats;\n     });\n  }\n  \n  // Add Chat References to Both users\n  addChats(uid,interlocutor) {\n      // First User\n      let endpoint = this.af.database.object(`/users/${uid}/chats/${interlocutor}`);\n      endpoint.set(true);\n      \n      // Second User\n      let endpoint2 = this.af.database.object(`/users/${interlocutor}/chats/${uid}`);\n      endpoint2.set(true);\n  }\n\n  getChatRef(uid, interlocutor) {\n      let firstRef = this.af.database.object(`/chats/${uid},${interlocutor}`, {preserveSnapshot:true});\n      let promise = new Promise((resolve, reject) => {\n          firstRef.subscribe(snapshot => {\n                let a = snapshot.exists();\n                if(a) {\n                    resolve(`/chats/${uid},${interlocutor}`);\n                } else {\n                    let secondRef = this.af.database.object(`/chats/${interlocutor},${uid}`, {preserveSnapshot:true});\n                    secondRef.subscribe(snapshot => {\n                        let b = snapshot.exists();\n                        if(!b) {\n                            this.addChats(uid,interlocutor);\n                        }\n                    });\n                    resolve(`/chats/${interlocutor},${uid}`);\n                }\n            });\n      });\n      \n      return promise;\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/chats-provider/chats-provider.ts","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, Content } from 'ionic-angular';\nimport { AngularFire, FirebaseListObservable } from 'angularfire2';\nimport { ChatsProvider } from '../../providers/chats-provider/chats-provider';\nimport { UserProvider } from '../../providers/user-provider/user-provider';\n\n@Component({\n  templateUrl: 'chat-view.html',\n})\nexport class ChatViewPage {\n  message: string;\n  uid:string;\n  interlocutor:string;\n  chats:FirebaseListObservable<any>;  \n  @ViewChild(Content) content: Content;\n  constructor(public nav:NavController, \n  params:NavParams, \n  public chatsProvider:ChatsProvider, \n  public af:AngularFire, \n  public userProvider:UserProvider) {\n    \n    this.uid = params.data.uid;\n    this.interlocutor = params.data.interlocutor;\n    \n    // Get Chat Reference\n    chatsProvider.getChatRef(this.uid, this.interlocutor)\n    .then((chatRef:any) => {  \n        this.chats = this.af.database.list(chatRef);\n    });\n  }\n\n  ionViewDidEnter() {\n    this.content.scrollToBottom();\n  }\n\n\n  sendMessage() {\n      if(this.message) {\n          let chat = {\n              from: this.uid,\n              message: this.message,\n              type: 'message'\n          };\n          this.chats.push(chat);\n          this.message = \"\";\n      }\n  };\n  \n  sendPicture() {\n      let chat = {from: this.uid, type: 'picture', picture:null};\n      this.userProvider.getPicture()\n      .then((image) => {\n          chat.picture =  image;\n          this.chats.push(chat);\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chat-view/chat-view.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 251;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/src/linker lazy\n// module id = 251\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { TabsPage } from '../tabs/tabs';\nimport { Validators, FormGroup, FormControl } from '@angular/forms';\nimport { validateEmail } from '../../validators/email';\nimport { AuthProvider } from '../../providers/auth-provider/auth-provider';\nimport { UserProvider } from '../../providers/user-provider/user-provider';\nimport { UtilProvider } from '../../providers/utils';\n\n@Component({\n\ttemplateUrl: 'login.html'\n})\nexport class LoginPage {\n\tloginForm:any;\n    constructor(public nav:NavController,\n      public auth: AuthProvider, \n      public userProvider: UserProvider,\n      public util: UtilProvider,\n      public storage:Storage) {\n    }\n\n    ngOnInit() {\n        this.loginForm = new FormGroup({\n            email: new FormControl(\"\",[Validators.required, validateEmail]),\n            password: new FormControl(\"\",Validators.required)\n        });\n    }\n    \n\tsignin() {\n      this.auth.signin(this.loginForm.value)\n      .then((data) => {\n          this.storage.set('uid', data.uid);\n          this.nav.push(TabsPage);\n      }, (error) => {\n          let alert = this.util.doAlert(\"Error\",error.message,\"Ok\");\n          alert.present();\n      });\n    };\n    \n    createAccount() {\n        let credentials = this.loginForm.value;\n        this.auth.createAccount(credentials)\n        .then((data) => {\n           this.storage.set('uid', data.uid);\n           this.userProvider.createUser(credentials, data.uid);\n        }, (error) => {\n            let alert = this.util.doAlert(\"Error\",error.message,\"Ok\");\n            alert.present();\n        });\n    };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { UserProvider } from '../../providers/user-provider/user-provider';\nimport { ChatsProvider } from '../../providers/chats-provider/chats-provider';\nimport { AngularFire } from 'angularfire2';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport { ChatViewPage }  from '../chat-view/chat-view';\n\n@Component({\n    templateUrl: 'chats.html'\n})\nexport class ChatsPage {\n    chats:Observable<any[]>;\n    constructor(public chatsProvider: ChatsProvider, \n        public userProvider: UserProvider, \n        public af:AngularFire, \n        public nav: NavController) {\n            \n            this.chatsProvider.getChats()\n            .then(chats => {\n                this.chats = chats.map(users => {\n                    return users.map(user => {\n                        user.info = this.af.database.object(`/users/${user.$key}`);\n                        return user;\n                    });\n                });\n            });\n        }\n    \n    \n    openChat(key) {\n        this.userProvider.getUid()\n        .then(uid => {\n            let param = {uid: uid, interlocutor: key};\n            this.nav.push(ChatViewPage,param);\n        });   \n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chats/chats.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { AuthProvider } from '../../providers/auth-provider/auth-provider';\nimport { UserProvider } from '../../providers/user-provider/user-provider';\n\n@Component({\n    templateUrl: 'account.html'\n})\nexport class AccountPage {\n    rootNav;\n    user = {};\n    constructor(public nav: NavController, \n                public auth: AuthProvider, \n                public userProvider: UserProvider,\n                public local:Storage) {\n        this.userProvider.getUser()\n        .then(userObservable => {\n            userObservable.subscribe(user => {\n                this.user = user;\n            });\n        });\n    }\n    \n    //save user info\n    updatePicture() {\n        this.userProvider.updatePicture();\n    };\n\n    logout() {\n        this.local.remove('uid');\n        this.auth.logout();\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/account/account.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { FirebaseListObservable } from 'angularfire2';\nimport { UserProvider } from '../../providers/user-provider/user-provider';\nimport { ChatViewPage } from '../chat-view/chat-view';\n\n@Component({\n    templateUrl: 'users.html'\n})\nexport class UsersPage {\n    users:FirebaseListObservable<any[]>;\n    uid:string;\n    constructor(public nav: NavController, public userProvider: UserProvider) {}\n\n    ngOnInit() {\n        this.userProvider.getUid()\n        .then(uid => {\n            this.uid = uid;\n            this.users = this.userProvider.getAllUsers();\n        });\n    };\n    \n    openChat(key) {\n        let param = {uid: this.uid, interlocutor: key};\n        this.nav.push(ChatViewPage,param);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/users/users.ts","import { Injectable } from '@angular/core';\nimport { AlertController } from 'ionic-angular';\n@Injectable()\nexport class UtilProvider {\n    constructor(public AlertCtrl:AlertController) {}\n    doAlert(title, message, buttonText) {\n      console.log(message);\n      let alert = this.AlertCtrl.create({\n          title: title,\n          subTitle: message,\n          buttons: [buttonText]\n      });\n      return alert; \n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/utils.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { Injectable } from '@angular/core';\nimport { AngularFire } from 'angularfire2';\nimport { Storage } from '@ionic/storage';\nimport { Camera } from 'ionic-native';\n\n@Injectable()\nexport class UserProvider {\n  constructor(public af:AngularFire, public local:Storage) { }\n  \n  // Get Current User's UID\n  getUid() {\n    return this.local.get('uid');\n  }\n  \n  // Create User in Firebase\n  createUser(userCredentails, uid) {\n      let currentUserRef = this.af.database.object(`/users/${uid}`);\n      console.log(userCredentails);\n      currentUserRef.set({email: userCredentails.email});\n  }\n  \n  // Get Info of Single User\n  getUser() {\n    // Getting UID of Logged In User\n    return this.getUid().then(uid => {\n      return this.af.database.object(`/users/${uid}`);\n    });\n  }\n\n  \n  // Get All Users of App\n  getAllUsers() {\n      return this.af.database.list('/users');\n  }\n   \n  // Get base64 Picture of User\n  getPicture() {\n      let base64Picture;\n      let options = {\n          destinationType: 0,\n          sourceType: 0,\n          encodingType:0  \n      };\n      \n      let promise = new Promise((resolve, reject) => {\n           Camera.getPicture(options).then((imageData) => {\n                base64Picture = \"data:image/jpeg;base64,\" + imageData;\n                resolve(base64Picture);\n            }, (error) => {\n                reject(error);\n          });\n      \n      });\n      return promise;\n  }\n  \n  // Update Provide Picture of User\n  updatePicture() {\n    this.getUid().then(uid => {\n      let pictureRef = this.af.database.object(`/users/${uid}/picture`);\n      this.getPicture()\n      .then((image) => {\n          pictureRef.set(image);\n      });\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/user-provider/user-provider.ts","import { NgModule, ErrorHandler, Injectable, Injector } from '@angular/core';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { AngularFireModule, AuthProviders, AuthMethods } from 'angularfire2';\nimport { MyApp } from './app.component';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { LoginPage } from '../pages/login/login';\nimport { UsersPage } from '../pages/users/users';\nimport { ChatsPage } from '../pages/chats/chats';\nimport { AccountPage } from '../pages/account/account';\nimport { ChatViewPage } from '../pages/chat-view/chat-view';\n\nimport { AuthProvider } from '../providers/auth-provider/auth-provider';\nimport { ChatsProvider } from '../providers/chats-provider/chats-provider';\nimport { UserProvider } from '../providers/user-provider/user-provider';\nimport { UtilProvider } from '../providers/utils';\nimport { Pro } from '@ionic/pro';\n\nPro.init('e7eea03f', {\n  appVersion: '0.0.1'\n})\n\n@Injectable()\nexport class MyErrorHandler implements ErrorHandler {\n  ionicErrorHandler: IonicErrorHandler;\n\n  constructor(injector: Injector) {\n    try {\n      this.ionicErrorHandler = injector.get(IonicErrorHandler);\n    } catch (e) {\n      // Unable to get the IonicErrorHandler provider, ensure\n      // IonicErrorHandler has been added to the providers list below\n    }\n  }\n\n  handleError(err: any): void {\n    Pro.monitoring.handleNewError(err);\n    // Remove this if you want to disable Ionic's auto exception handling\n    // in development mode.\n    this.ionicErrorHandler && this.ionicErrorHandler.handleError(err);\n  }\n}\n\nexport const firebaseConfig = {\n  apiKey: \"AIzaSyDwiNheARSamE4B4N-YnFc6zLLZ7xKJgjk\",\n  authDomain: \"ionichat-914ca.firebaseapp.com\",\n  databaseURL: \"https://ionichat-914ca.firebaseio.com\",\n  projectId: \"ionichat-914ca\",\n  storageBucket: \"ionichat-914ca.appspot.com\",\n  messagingSenderId: \"315290250758\"\n};\n\nconst myFirebaseAuthConfig = {\n  provider: AuthProviders.Password,\n  method: AuthMethods.Password\n}\n\n@NgModule({\n  declarations: [\n    MyApp,\n    TabsPage,\n    LoginPage,\n    UsersPage,\n    ChatsPage,\n    AccountPage,\n    ChatViewPage\n  ],\n  imports: [\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(firebaseConfig, myFirebaseAuthConfig)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    TabsPage,\n    LoginPage,\n    UsersPage,\n    ChatsPage,\n    AccountPage,\n    ChatViewPage\n  ],\n  providers: [{ provide: ErrorHandler, useClass: IonicErrorHandler },\n    AuthProvider, ChatsProvider, UserProvider, UtilProvider, Storage]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar, Splashscreen } from 'ionic-native';\nimport { AngularFire } from 'angularfire2';\nimport { LoginPage } from '../pages/login/login';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { AuthProvider } from '../providers/auth-provider/auth-provider';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any;\n\n  constructor(platform: Platform, public af: AngularFire, public authProvider:AuthProvider) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      StatusBar.styleDefault();\n      Splashscreen.hide();\n      this.intialize();\n    });\n  }\n\n  intialize() {\n    this.af.auth.subscribe(auth => {\n       if(auth) {\n          this.rootPage = TabsPage;\n        } else {\n          this.rootPage = LoginPage;\n        }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { FormControl } from '@angular/forms';\n\nexport function validateEmail(c: FormControl) {\n   let EMAIL_REGEXP = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i;\n   return EMAIL_REGEXP.test(c.value) ? null : {\n    validateEmail: {\n      valid: false\n    }\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/validators/email.ts"],"sourceRoot":""}